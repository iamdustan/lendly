"use strict";angular.module("lendyApp",[]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("lendyApp").controller("AddLendCtrl",["$scope","lends","$location","$timeout",function(a,b,c,d){a.name="",a.photo="",a.borrowedTo={name:"",address:"",phone:""},a.addNew=function(){a.submitting||(a.submitting=!0,d(function(){b.add({name:a.name,photo:a.photo,borrowedTo:{name:a.borrowedTo.name,address:a.borrowedTo.address,phone:a.borrowedTo.photo}}),c.path("/gosomwehereplease")},500*Math.random()))},a.cancel=function(){console.log("cancel")}}]),angular.module("lendyApp").controller("MainCtrl",["$scope","lends","$timeout",function(a,b,c){function d(){return{name:"",photo:"",borrowedTo:{name:"",address:"",phone:""}}}console.log("MainCtrl",b),a.lends=b,a.isSubmitting=!1,a.toggleForm=function(a,b){console.log("toggleForm",b),document.querySelector(".slide-panel").classList.toggle("slide-panel-active"),document.querySelector('input[name="name"]').focus()},a.create=d(),a.create.add=function(){a.isSubmitting||(a.isSubmitting=!0,c(function(){b.add({name:a.create.name,photo:a.create.photo,borrowedTo:{name:a.create.borrowedTo.name,address:a.create.borrowedTo.address,phone:a.create.borrowedTo.photo},lendedAt:new Date}),a.create=d(),a.toggleForm()},500*Math.random()))}}]),angular.module("lendyApp").controller("NavbarController",["$scope","$location",function(a,b){a.routeIs=function(a){return b.path()===a}}]),angular.module("lendyApp").factory("lends",["$rootScope",function(a){var b="lends",c=localStorage[b],d=c?JSON.parse(c):[];return a.$watch(function(){return d},function(){localStorage.lends=JSON.stringify(d)},!0),d.add=function(a){d.push(a)},d.remove=function(a){d.splice(a,1)},d.removeAll=function(){d=[]},d}]);